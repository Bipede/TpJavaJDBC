/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ihm;

import data.DataTransac;
import data.ProgrammeurBean;
import java.awt.CardLayout;
import java.sql.SQLException;
import java.util.Calendar;
import javax.swing.JOptionPane;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;

/**
 *
 * @author 20180154
 */
public class GestionVueProg extends javax.swing.JFrame {

    /**
     * Creates new form GestionVueProg
     */
    public GestionVueProg() {
        try { 
            UIManager.setLookAndFeel("com.sun.java.swing.plaf.windows.WindowsLookAndFeel"); 
        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) { 
            ex.printStackTrace(); 
        }
        initComponents();
        
        dt = new DataTransac();
        
        this.setVisible(true);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        mainPanel = new javax.swing.JPanel();
        defaultPanel = new javax.swing.JPanel();
        fieldsPanel = new javax.swing.JPanel();
        matriculeSubPanel = new javax.swing.JPanel();
        matriculeLabel = new javax.swing.JLabel();
        matriculeTextField = new javax.swing.JTextField();
        champsSubPanel = new javax.swing.JPanel();
        nomLabel = new javax.swing.JLabel();
        adresseLabel = new javax.swing.JLabel();
        responsableLabel = new javax.swing.JLabel();
        hobbyLabel = new javax.swing.JLabel();
        prenomLabel = new javax.swing.JLabel();
        pseudoLabel = new javax.swing.JLabel();
        naissLabel = new javax.swing.JLabel();
        embLabel = new javax.swing.JLabel();
        nomTextField = new javax.swing.JTextField();
        adresseTextField = new javax.swing.JTextField();
        responsableTextField = new javax.swing.JTextField();
        hobbyTextField = new javax.swing.JTextField();
        prenomTextField = new javax.swing.JTextField();
        pseudoTextField = new javax.swing.JTextField();
        jComboBox1 = new javax.swing.JComboBox<>();
        jComboBox2 = new javax.swing.JComboBox<>();
        rechercherButton = new javax.swing.JButton();
        reinitButton = new javax.swing.JButton();
        validerButton = new javax.swing.JButton();
        annulerButton = new javax.swing.JButton();
        jourNaissTextField = new javax.swing.JFormattedTextField();
        jourEmbTextField = new javax.swing.JFormattedTextField();
        anneeNaissTextField = new javax.swing.JFormattedTextField();
        anneeEmbTextField = new javax.swing.JFormattedTextField();
        displayPanel = new javax.swing.JPanel();
        ScrollPane = new javax.swing.JScrollPane();
        progsTextArea = new javax.swing.JTextArea();
        jMenuBar1 = new javax.swing.JMenuBar();
        progMenu = new javax.swing.JMenu();
        afficherMenu = new javax.swing.JMenu();
        afficherMenuItem = new javax.swing.JMenuItem();
        modifierMenuItem = new javax.swing.JMenuItem();
        supprimerMenuItem = new javax.swing.JMenuItem();
        ajouterMenuItem = new javax.swing.JMenuItem();
        actionMenu = new javax.swing.JMenu();
        quitterMenuItem = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("GesProg");

        mainPanel.setLayout(new java.awt.CardLayout());

        defaultPanel.setBackground(new java.awt.Color(102, 102, 102));

        javax.swing.GroupLayout defaultPanelLayout = new javax.swing.GroupLayout(defaultPanel);
        defaultPanel.setLayout(defaultPanelLayout);
        defaultPanelLayout.setHorizontalGroup(
            defaultPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 619, Short.MAX_VALUE)
        );
        defaultPanelLayout.setVerticalGroup(
            defaultPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 291, Short.MAX_VALUE)
        );

        mainPanel.add(defaultPanel, "defaultPanel");

        matriculeSubPanel.setBackground(new java.awt.Color(0, 0, 0));

        matriculeLabel.setForeground(new java.awt.Color(255, 255, 255));
        matriculeLabel.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        matriculeLabel.setText("Matricule");
        matriculeLabel.setAlignmentY(0.0F);

        matriculeTextField.setText("0");

        javax.swing.GroupLayout matriculeSubPanelLayout = new javax.swing.GroupLayout(matriculeSubPanel);
        matriculeSubPanel.setLayout(matriculeSubPanelLayout);
        matriculeSubPanelLayout.setHorizontalGroup(
            matriculeSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(matriculeSubPanelLayout.createSequentialGroup()
                .addComponent(matriculeLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(matriculeTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 474, Short.MAX_VALUE))
        );
        matriculeSubPanelLayout.setVerticalGroup(
            matriculeSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, matriculeSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(matriculeLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                .addComponent(matriculeTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        nomLabel.setText("Nom");

        adresseLabel.setText("Adresse");

        responsableLabel.setText("Responsable");

        hobbyLabel.setText("Hobby");

        prenomLabel.setText("Prénom");

        pseudoLabel.setText("Pseudo");

        naissLabel.setText("Date de naissance");

        embLabel.setText("Date d'embauche");

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" }));

        jComboBox2.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12" }));

        rechercherButton.setText("Rechercher");
        rechercherButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rechercherButtonActionPerformed(evt);
            }
        });

        reinitButton.setText("Réinitialiser");
        reinitButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                reinitButtonActionPerformed(evt);
            }
        });

        validerButton.setText("Valider");
        validerButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                validerButtonActionPerformed(evt);
            }
        });

        annulerButton.setText("Annuler");
        annulerButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                annulerButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout champsSubPanelLayout = new javax.swing.GroupLayout(champsSubPanel);
        champsSubPanel.setLayout(champsSubPanelLayout);
        champsSubPanelLayout.setHorizontalGroup(
            champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(champsSubPanelLayout.createSequentialGroup()
                .addGap(77, 77, 77)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(champsSubPanelLayout.createSequentialGroup()
                        .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(nomLabel)
                            .addComponent(adresseLabel)
                            .addComponent(responsableLabel)
                            .addComponent(hobbyLabel))
                        .addGap(24, 24, 24)
                        .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(nomTextField)
                            .addComponent(adresseTextField)
                            .addComponent(responsableTextField)
                            .addComponent(hobbyTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 78, Short.MAX_VALUE))
                        .addGap(18, 18, 18)
                        .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(prenomLabel)
                            .addComponent(pseudoLabel)
                            .addComponent(naissLabel)
                            .addComponent(embLabel))
                        .addGap(21, 21, 21)
                        .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(champsSubPanelLayout.createSequentialGroup()
                                .addComponent(jourEmbTextField)
                                .addGap(75, 75, 75)
                                .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(anneeNaissTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(anneeEmbTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(37, 37, 37))
                            .addGroup(champsSubPanelLayout.createSequentialGroup()
                                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(champsSubPanelLayout.createSequentialGroup()
                                        .addComponent(jourNaissTextField)
                                        .addGap(75, 75, 75))
                                    .addGroup(champsSubPanelLayout.createSequentialGroup()
                                        .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(prenomTextField)
                                            .addComponent(pseudoTextField, javax.swing.GroupLayout.DEFAULT_SIZE, 78, Short.MAX_VALUE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(100, 100, 100))))
                    .addGroup(champsSubPanelLayout.createSequentialGroup()
                        .addGap(44, 44, 44)
                        .addComponent(rechercherButton)
                        .addGap(18, 18, 18)
                        .addComponent(reinitButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(validerButton)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(annulerButton)
                        .addContainerGap(152, Short.MAX_VALUE))))
        );
        champsSubPanelLayout.setVerticalGroup(
            champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(champsSubPanelLayout.createSequentialGroup()
                .addGap(55, 55, 55)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(nomLabel)
                    .addComponent(prenomLabel)
                    .addComponent(nomTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(prenomTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(adresseLabel)
                    .addComponent(pseudoLabel)
                    .addComponent(adresseTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(pseudoTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(responsableLabel)
                    .addComponent(naissLabel)
                    .addComponent(responsableTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jourNaissTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(anneeNaissTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(hobbyLabel)
                    .addComponent(embLabel)
                    .addComponent(hobbyTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBox2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jourEmbTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(anneeEmbTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 40, Short.MAX_VALUE)
                .addGroup(champsSubPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(rechercherButton)
                    .addComponent(reinitButton)
                    .addComponent(validerButton)
                    .addComponent(annulerButton))
                .addContainerGap())
        );

        javax.swing.GroupLayout fieldsPanelLayout = new javax.swing.GroupLayout(fieldsPanel);
        fieldsPanel.setLayout(fieldsPanelLayout);
        fieldsPanelLayout.setHorizontalGroup(
            fieldsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(champsSubPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(matriculeSubPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        fieldsPanelLayout.setVerticalGroup(
            fieldsPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, fieldsPanelLayout.createSequentialGroup()
                .addGap(0, 0, Short.MAX_VALUE)
                .addComponent(matriculeSubPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addComponent(champsSubPanel, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        mainPanel.add(fieldsPanel, "fieldsPanel");

        progsTextArea.setColumns(20);
        progsTextArea.setRows(5);
        ScrollPane.setViewportView(progsTextArea);

        javax.swing.GroupLayout displayPanelLayout = new javax.swing.GroupLayout(displayPanel);
        displayPanel.setLayout(displayPanelLayout);
        displayPanelLayout.setHorizontalGroup(
            displayPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(displayPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(ScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 599, Short.MAX_VALUE)
                .addContainerGap())
        );
        displayPanelLayout.setVerticalGroup(
            displayPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(displayPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(ScrollPane, javax.swing.GroupLayout.PREFERRED_SIZE, 230, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(50, Short.MAX_VALUE))
        );

        mainPanel.add(displayPanel, "displayPanel");

        progMenu.setText("Programmeur");

        afficherMenu.setText("Afficher");

        afficherMenuItem.setText("Tous");
        afficherMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                afficherMenuItemActionPerformed(evt);
            }
        });
        afficherMenu.add(afficherMenuItem);

        progMenu.add(afficherMenu);

        modifierMenuItem.setText("Modifier");
        modifierMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                modifierMenuItemActionPerformed(evt);
            }
        });
        progMenu.add(modifierMenuItem);

        supprimerMenuItem.setText("Supprimer");
        supprimerMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                supprimerMenuItemActionPerformed(evt);
            }
        });
        progMenu.add(supprimerMenuItem);

        ajouterMenuItem.setText("Ajouter");
        ajouterMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ajouterMenuItemActionPerformed(evt);
            }
        });
        progMenu.add(ajouterMenuItem);

        jMenuBar1.add(progMenu);

        actionMenu.setText("Action");

        quitterMenuItem.setText("Quitter");
        quitterMenuItem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                quitterMenuItemActionPerformed(evt);
            }
        });
        actionMenu.add(quitterMenuItem);

        jMenuBar1.add(actionMenu);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(mainPanel, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void afficherMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_afficherMenuItemActionPerformed
        cardLayout = (CardLayout)mainPanel.getLayout();
        cardLayout.show(mainPanel, "displayPanel");
        
        progsTextArea.setText(dt.afficherProgrammeurs());
    }//GEN-LAST:event_afficherMenuItemActionPerformed

    private void modifierMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_modifierMenuItemActionPerformed
        cardLayout = (CardLayout)mainPanel.getLayout();
        cardLayout.show(mainPanel, "fieldsPanel");
        rechercherButton.setEnabled(true);
        reinitButton.setEnabled(false);
        validerButton.setEnabled(false);
        annulerButton.setEnabled(true);
        
        //spécifie l'action
        isAjouter = false;
        isModifier = true;
    }//GEN-LAST:event_modifierMenuItemActionPerformed

    private void supprimerMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_supprimerMenuItemActionPerformed
        cardLayout = (CardLayout)mainPanel.getLayout();
        cardLayout.show(mainPanel, "fieldsPanel");
        rechercherButton.setEnabled(false);
        reinitButton.setEnabled(false);
        validerButton.setEnabled(true);
        annulerButton.setEnabled(true);
        
        //spécifie l'action
        isAjouter = false;
        isModifier = false;
    }//GEN-LAST:event_supprimerMenuItemActionPerformed

    private void ajouterMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ajouterMenuItemActionPerformed
        cardLayout = (CardLayout)mainPanel.getLayout();
        cardLayout.show(mainPanel, "fieldsPanel");
        rechercherButton.setEnabled(false);
        reinitButton.setEnabled(true);
        validerButton.setEnabled(true);
        annulerButton.setEnabled(true);
        
        //spécifie l'action
        isAjouter = true;
        isModifier = false;
    }//GEN-LAST:event_ajouterMenuItemActionPerformed

    private void quitterMenuItemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_quitterMenuItemActionPerformed
        int result = JOptionPane.showConfirmDialog(this,"Vérification" , "Voulez-vous vraiment quitter?",JOptionPane.YES_NO_OPTION);
        if(result == JOptionPane.OK_OPTION) {
            dt.fermerRessources();
            //ferme la fenêtre
            this.dispose();
        }
    }//GEN-LAST:event_quitterMenuItemActionPerformed

    private void annulerButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_annulerButtonActionPerformed
        matriculeTextField.setText("0");
        nomTextField.setText("");
        adresseTextField.setText("");
        responsableTextField.setText("");
        hobbyTextField.setText("");
        prenomTextField.setText("");
        pseudoTextField.setText("");
        jourNaissTextField.setText("");
        jourEmbTextField.setText("");
        anneeNaissTextField.setText("");
        anneeEmbTextField.setText("");
        jComboBox1.setSelectedIndex(0);
        jComboBox2.setSelectedIndex(0);
        cardLayout = (CardLayout)mainPanel.getLayout();
        cardLayout.show(mainPanel, "defaultPanel");
    }//GEN-LAST:event_annulerButtonActionPerformed

    private void validerButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_validerButtonActionPerformed
        if(isAjouter) {
            prog = new ProgrammeurBean();
            prog.setMatricule(Integer.parseInt(matriculeTextField.getText()));
            prog.setNom(nomTextField.getText());
            prog.setPrenom(prenomTextField.getText());
            prog.setAdresse(adresseTextField.getText());
            prog.setResponsable(responsableTextField.getText());
            prog.setHobby(hobbyTextField.getText());
            prog.setPseudo(pseudoTextField.getText());
            Calendar cal = Calendar.getInstance();
            cal.setTimeInMillis(0);
            cal.set(Integer.parseInt(anneeNaissTextField.getText()), jComboBox1.getSelectedIndex() + 1, Integer.parseInt(jourNaissTextField.getText()));
            prog.setDate_naiss(cal.getTime());
            cal.set(Integer.parseInt(anneeEmbTextField.getText()), jComboBox2.getSelectedIndex() + 1, Integer.parseInt(jourEmbTextField.getText()));
            prog.setDate_emb(cal.getTime());

            try {
                dt.addProgrammeur(prog);
                JOptionPane.showMessageDialog(this, "Ajout réussi!", "Succès!", JOptionPane.INFORMATION_MESSAGE);
            }
            catch(SQLException e) {
                JOptionPane.showMessageDialog(this, "Erreur d'ajout", "Echec", JOptionPane.ERROR_MESSAGE);
            }
        }
        else if(isModifier) {
            prog.setNom(nomTextField.getText());
            prog.setPrenom(prenomTextField.getText());
            prog.setAdresse(adresseTextField.getText());
            prog.setResponsable(responsableTextField.getText());
            prog.setHobby(hobbyTextField.getText());
            prog.setPseudo(pseudoTextField.getText());
            Calendar cal = Calendar.getInstance();
            cal.setTimeInMillis(0);
            cal.set(Integer.parseInt(anneeNaissTextField.getText()), jComboBox1.getSelectedIndex() + 1, Integer.parseInt(jourNaissTextField.getText()));
            prog.setDate_naiss(cal.getTime());
            cal.set(Integer.parseInt(anneeEmbTextField.getText()), jComboBox2.getSelectedIndex() + 1, Integer.parseInt(jourEmbTextField.getText()));
            prog.setDate_emb(cal.getTime());

            try {
                dt.modifyProgrammeur(prog);
                JOptionPane.showMessageDialog(this, "Modification réussie!", "Succès!", JOptionPane.INFORMATION_MESSAGE);
            }
            catch(SQLException e) {
                JOptionPane.showMessageDialog(this, "Erreur de modification", "Echec", JOptionPane.ERROR_MESSAGE);
            }
        }
        else {
            try {
                dt.deleteProgrammeur(Integer.parseInt(matriculeTextField.getText()));
                JOptionPane.showMessageDialog(this, "Suppression réussie!", "Succès!", JOptionPane.INFORMATION_MESSAGE);
            }
            catch(SQLException e) {
                JOptionPane.showMessageDialog(this, "Erreur de suppression", "Echec", JOptionPane.ERROR_MESSAGE);
            }
        }
    }//GEN-LAST:event_validerButtonActionPerformed

    private void reinitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_reinitButtonActionPerformed
        matriculeTextField.setText("0");
        nomTextField.setText("");
        adresseTextField.setText("");
        responsableTextField.setText("");
        hobbyTextField.setText("");
        prenomTextField.setText("");
        pseudoTextField.setText("");
        jourNaissTextField.setText("");
        jourEmbTextField.setText("");
        anneeNaissTextField.setText("");
        anneeEmbTextField.setText("");
        jComboBox1.setSelectedIndex(0);
        jComboBox2.setSelectedIndex(0);
    }//GEN-LAST:event_reinitButtonActionPerformed

    private void rechercherButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rechercherButtonActionPerformed
        if(isModifier) {
            prog = dt.getProgrammeur(Integer.parseInt(matriculeTextField.getText()));
            if(prog != null) {
                nomTextField.setText(prog.getNom());
                prenomTextField.setText(prog.getPrenom());
                adresseTextField.setText(prog.getAdresse());
                pseudoTextField.setText(prog.getPseudo());
                responsableTextField.setText(prog.getResponsable());
                hobbyTextField.setText(prog.getHobby());

                Calendar cal = Calendar.getInstance();
                cal.setTime(prog.getDate_naiss());
                jourNaissTextField.setText(Integer.toString(cal.get(Calendar.DAY_OF_MONTH)));
                jComboBox1.setSelectedIndex((cal.get(Calendar.MONTH)));
                anneeNaissTextField.setText(Integer.toString(cal.get(Calendar.YEAR)));
                cal.setTime(prog.getDate_emb());
                jourEmbTextField.setText(Integer.toString(cal.get(Calendar.DAY_OF_MONTH)));
                jComboBox2.setSelectedIndex((cal.get(Calendar.MONTH)));
                anneeEmbTextField.setText(Integer.toString(cal.get(Calendar.YEAR)));

                reinitButton.setEnabled(true);
                validerButton.setEnabled(true);
            }
            else {
                JOptionPane.showMessageDialog(this, "Programmeur introuvable", "Echec", JOptionPane.ERROR_MESSAGE);
            }
        }
    }//GEN-LAST:event_rechercherButtonActionPerformed

    

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JScrollPane ScrollPane;
    private javax.swing.JMenu actionMenu;
    private javax.swing.JLabel adresseLabel;
    private javax.swing.JTextField adresseTextField;
    private javax.swing.JMenu afficherMenu;
    private javax.swing.JMenuItem afficherMenuItem;
    private javax.swing.JMenuItem ajouterMenuItem;
    private javax.swing.JFormattedTextField anneeEmbTextField;
    private javax.swing.JFormattedTextField anneeNaissTextField;
    private javax.swing.JButton annulerButton;
    private javax.swing.JPanel champsSubPanel;
    private javax.swing.JPanel defaultPanel;
    private javax.swing.JPanel displayPanel;
    private javax.swing.JLabel embLabel;
    private javax.swing.JPanel fieldsPanel;
    private javax.swing.JLabel hobbyLabel;
    private javax.swing.JTextField hobbyTextField;
    private javax.swing.JComboBox<String> jComboBox1;
    private javax.swing.JComboBox<String> jComboBox2;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JFormattedTextField jourEmbTextField;
    private javax.swing.JFormattedTextField jourNaissTextField;
    private javax.swing.JPanel mainPanel;
    private javax.swing.JLabel matriculeLabel;
    private javax.swing.JPanel matriculeSubPanel;
    private javax.swing.JTextField matriculeTextField;
    private javax.swing.JMenuItem modifierMenuItem;
    private javax.swing.JLabel naissLabel;
    private javax.swing.JLabel nomLabel;
    private javax.swing.JTextField nomTextField;
    private javax.swing.JLabel prenomLabel;
    private javax.swing.JTextField prenomTextField;
    private javax.swing.JMenu progMenu;
    private javax.swing.JTextArea progsTextArea;
    private javax.swing.JLabel pseudoLabel;
    private javax.swing.JTextField pseudoTextField;
    private javax.swing.JMenuItem quitterMenuItem;
    private javax.swing.JButton rechercherButton;
    private javax.swing.JButton reinitButton;
    private javax.swing.JLabel responsableLabel;
    private javax.swing.JTextField responsableTextField;
    private javax.swing.JMenuItem supprimerMenuItem;
    private javax.swing.JButton validerButton;
    // End of variables declaration//GEN-END:variables
    private CardLayout cardLayout;
    private boolean isModifier;
    private boolean isAjouter;
    private ProgrammeurBean prog;
    private DataTransac dt;

    
}
